(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=e(t);fetch(t.href,r)}})();function u(s,n){const e=JSON.stringify(n);localStorage.setItem(s,e)}function C(s){const n=localStorage.getItem(s);return JSON.parse(n)}const o=C("projects")||[];class N{constructor(n){this.name=n,this.tasks=[]}}if(o.length===0){const s=new N("General");o.push(s)}function D(){const s=document.getElementById("add-project__input").value,n=new N(s);o.push(n),u("projects",o)}const A=document.querySelector("h2.notes-category");function k(){const s=document.querySelector(".project--active").firstChild.textContent;A.textContent=s}function q(){this.style.height="auto",this.style.height=`${this.scrollHeight}px`}const S=document.querySelector("#notes-tasks");function p(){const s=document.querySelector(".project--active > .project__name").textContent;S.replaceChildren();const n=o.length;for(let e=0;e<n;e+=1)if(o[e].name===s){const i=o[e].tasks.length;for(let t=0;t<i;t+=1){const r=document.createElement("form");r.classList.add("note");const a=document.createElement("input");a.setAttribute("type","text"),a.classList.add("note__title"),a.setAttribute("name",`note-title${t}`),a.value=o[e].tasks[t].title,a.onblur=()=>{o[e].tasks[t].title!==a.value&&(o[e].tasks[t].title=a.value.trim(),u("projects",o),p())},a.addEventListener("keydown",m=>{m.key==="Enter"&&m.preventDefault()});const c=document.createElement("textarea");c.classList.add("note__description"),c.setAttribute("name",`note-description${t}`),c.value=o[e].tasks[t].description,c.addEventListener("input",q),c.onblur=()=>{o[e].tasks[t].description!==c.value&&(o[e].tasks[t].description=c.value.trim(),u("projects",o),p())};const v=document.createElement("div");v.classList.add("note__bottom-section");const h=document.createElement("label");h.setAttribute("for",`note__priority${t}`),h.textContent="Priority: ";const d=document.createElement("select");d.setAttribute("id",`note__priority${t}`),d.setAttribute("name",`note__priority${t}`),d.dataset.chosen=o[e].tasks[t].priority,d.onchange=function(){this.dataset.chosen=this.value};const g=document.createElement("option"),_=document.createElement("option"),L=document.createElement("option");g.value="Low",g.text="Low",_.value="Medium",_.text="Medium",L.value="High",L.text="High",d.append(g,_,L),o[e].tasks[t].priority==="Low"?d.selectedIndex="0":o[e].tasks[t].priority==="Medium"?d.selectedIndex="1":o[e].tasks[t].priority==="High"&&(d.selectedIndex="2"),d.onblur=()=>{o[e].tasks[t].priority!==d.value&&(o[e].tasks[t].priority=d.value,u("projects",o))};const y=document.createElement("label");y.setAttribute("for",`note__date${t}`),y.textContent="Due Date: ";const l=document.createElement("input");l.setAttribute("type","date"),l.setAttribute("name",`note__date${t}`),l.setAttribute("id",`note__date${t}`),l.value=o[e].tasks[t].date,l.onblur=()=>{o[e].tasks[t].date!==l.value&&(o[e].tasks[t].date=l.value,u("projects",o))};const E=document.createElement("div");E.classList.add("note__handles");const j=document.createElement("button");j.classList.add("note__delete"),j.textContent="ðŸ—‘",j.addEventListener("click",m=>{m.preventDefault(),o[e].tasks.splice(t,1),u("projects",o),p()}),h.append(d),y.append(l),v.append(h,y),E.append(j),r.append(a,c,v,E),S.append(r),c.style.height="auto",c.style.height=`${c.scrollHeight}px`}return}}const f=document.querySelector("#project-list");function x(){if(f.children.length===o.length)return;f.replaceChildren();const s=o.length;for(let n=0;n<s;n+=1){const e=document.createElement("li");e.classList.add("project");const i=document.createElement("h2");i.classList.add("project__name"),i.textContent=`${o[n].name}`;const t=document.createElement("button");t.classList.add("project__delete"),t.textContent="ðŸ—‘",e.append(i,t),f.append(e),n===0&&(e.classList.add("project--active"),p()),i.textContent==="General"&&(t.style.visibility="hidden")}k(),f.addEventListener("click",n=>{const e=n.target.closest(".project");if(!e)return;const i=e.querySelector(".project__name"),t=e.querySelector(".project__delete");if(n.target===i&&!e.classList.contains("project--active")){const r=document.querySelector(".project--active");r&&r.classList.remove("project--active"),e.classList.add("project--active"),k(),p()}if(n.target===t){const r=Array.from(f.children).indexOf(e);r>=0&&r<o.length&&(o.splice(r,1),u("projects",o),x())}})}const I=document.querySelector("select"),$=document.querySelector("#add-note__description");function w(){I.setAttribute("data-chosen","Low")}function O(){$.style.height="58px"}class B{constructor(n,e,i,t){this.title=n,this.description=e,this.priority=i,this.date=t}}function H(){const s=document.querySelector(".project--active > .project__name").textContent,n=document.getElementById("add-note__title").value.trim(),e=document.getElementById("add-note__description").value.trim(),i=document.getElementById("add-note__priority").value,t=document.getElementById("add-note__date").value,r=new B(n,e,i,t),a=o.length;for(let c=0;c<a;c+=1)if(s===o[c].name){o[c].tasks.push(r),u("projects",o),p();return}}const P=document.querySelector(".add-project"),T=document.querySelector("#add-note__description"),b=document.querySelector(".add-note");P.addEventListener("submit",s=>{s.preventDefault(),D(),x(),P.reset()});T.addEventListener("input",q);b.addEventListener("reset",()=>{w(),O()});b.addEventListener("submit",s=>{s.preventDefault(),H(),b.reset(),document.activeElement.blur()});x();
